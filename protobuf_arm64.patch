diff -rupN protobuf/src/google/protobuf/stubs/platform_macros.h protobuf-fixed/src/google/protobuf/stubs/platform_macros.h
--- protobuf/src/google/protobuf/stubs/platform_macros.h	2013-02-26 20:56:38.000000000 +0300
+++ protobuf-fixed/src/google/protobuf/stubs/platform_macros.h	2014-05-10 10:41:15.000000000 +0300
@@ -57,6 +57,9 @@
 #elif defined(__ppc__)
 #define GOOGLE_PROTOBUF_ARCH_PPC 1
 #define GOOGLE_PROTOBUF_ARCH_32_BIT 1
+#elif defined(__aarch64__)
+#define GOOGLE_PROTOBUF_ARCH_ARM 1
+#define GOOGLE_PROTOBUF_ARCH_64_BIT 1
 #else
 #error Host architecture was not detected as supported by protobuf
 #endif
